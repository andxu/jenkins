{
    "url" : "http://sitexpagents.eastasia.cloudapp.azure.com:8080/",
    "user" : [

        {"username" : "admin", "password" : "admin"},
        {"username" : "test", "password" : "test"}
    ],
    "administrator" : [
        {"username" : "admin", "password" : "admin"}
    ],
    "plugins":[
        "git",
        "docker-plugin",
        "job-dsl",
        "delivery-pipeline-plugin",
        "cloudbees-folder",
        "email-ext",
        "postbuildscript"
    ],
    "docker":[
        {
            "name": "cloud",
            "severUrl": "http://172.16.0.5:2375",
            "containerCapStr": "50",
            "connectTimeout": 5,
            "readTimeout": 15,
            "credentialsId": "",
            "templates": [
                {
                    "image": "csharp",
                    "dnsString": "",
                    "network": "",
                    "dockerCommand": "",
                    "volumesString": "",
                    "volumesFromString": "",
                    "environmentsString": "",
                    "lxcConfString": "",
                    "hostname": "",
                    "memoryLimit": null,
                    "memorySwap": null,
                    "cpuShares": null,
                    "bindPorts": "",
                    "bindAllPorts": false,
                    "privileged": false,
                    "tty": false,
                    "labelString": "csharp_slave",
                    "remoteFs": "/home/jenkins",
                    "remoteFsMapping": "/home/jenkins",
                    "instanceCapStr": "1",
                    "numExecutors": 1,
                    "removeVolume": false,
                    "pullStrategy": "Pull once and update latest"
                },
                {
                    "image": "nodeslave",
                    "dnsString": "",
                    "network": "",
                    "dockerCommand": "",
                    "volumesString": "",
                    "volumesFromString": "",
                    "environmentsString": "",
                    "lxcConfString": "",
                    "hostname": "",
                    "memoryLimit": null,
                    "memorySwap": null,
                    "cpuShares": null,
                    "bindPorts": "",
                    "bindAllPorts": false,
                    "privileged": false,
                    "tty": false,
                    "labelString": "node_slave",
                    "remoteFs": "/home/jenkins",
                    "remoteFsMapping": "/home/jenkins",
                    "instanceCapStr": "1",
                    "numExecutors": 1,
                    "removeVolume": false,
                    "pullStrategy": "Pull once and update latest"
                },
                {
                    "image": "protractor",
                    "dnsString": "",
                    "network": "",
                    "dockerCommand": "",
                    "volumesString": "",
                    "volumesFromString": "",
                    "environmentsString": "",
                    "lxcConfString": "",
                    "hostname": "",
                    "memoryLimit": null,
                    "memorySwap": null,
                    "cpuShares": null,
                    "bindPorts": "",
                    "bindAllPorts": false,
                    "privileged": true,
                    "tty": false,
                    "labelString": "protractor_slave",
                    "remoteFs": "/home/jenkins",
                    "remoteFsMapping": "/home/jenkins",
                    "instanceCapStr": "1",
                    "numExecutors": 1,
                    "removeVolume": false,
                    "pullStrategy": "Pull once and update latest"
                }
            ]
        }
    ],
    "seedJob":[
        {
            "name": "seed job",
            "dslTemplateUrl": "https://raw.githubusercontent.com/zackliu/jenkins/master/dslJob.groovy",
            "jobs": {
                "folderName": "docs_template",
                "branchs": ["develop", "release", "hotfix", "master"],
                "mergeMapping":{
                "develop": "release",
                "release": "master",
                "hotfix": "master"
                 },
                "partnerName": "docs",
                
                "template":{
                     "repoUrl": "ssh://mseng@mseng.visualstudio.com:22/VSChina/_git/Template.Docs",
                     "credentialId": "a12a969a-f987-40d6-b8ff-91b0df2a601e",
                     "mailGroup": "sitexp@microsoft.com, bradyg@microsoft.com, Dan.Fernandez@microsoft.com, Duncan.Mackenzie@microsoft.com, adkinn@microsoft.com, Mike.Sampson@microsoft.com",
                     "logRotator":{
                         "daysToKeep": 14, 
                         "numToKeep": 40, 
                         "artifactDaysToKeep": 14, 
                         "artifactNumToKeep": 40
                      },
                     "labelExpression": null
                 },

                "ci":{
                    "labelExpression": "node_slave",
                     "shell": [
                         "npm install",
                         "npm run opst init",
                         "npm run opst -- deployTheme -B ${codeBranch}"
                     ]
                 },

                "e2e":{
                    "repoUrl": "ssh://mseng@mseng.visualstudio.com:22/VSChina/_git/Docs.E2E",
                    "mailGroup": "sitexp@microsoft.com, bradyg@microsoft.com, Dan.Fernandez@microsoft.com, Duncan.Mackenzie@microsoft.com, adkinn@microsoft.com, Mike.Sampson@microsoft.com, v-dejliu@microsoft.com, v-peliao@microsoft.com, v-yajlu@microsoft.com, v-susu@microsoft.com",
                    "labelExpression": "protractor_slave",
                    "shell":[
                         "npm install",
                         "gulp clean",
                         "gulp e2e --configFile ${e2eSettings['configFile']} --baseUrl ${e2eSettings['baseUrl']} --branchName ${e2eSettings['contentBranch']}"
                     ],
                    "develop_e2e": {
                        "sourceBranch": "develop",
                        "baseUrl": "https://docspilot.azurewebsites.net",
                        "configFile": "test/Docs/protractor.config.js",
                        "contentBranch": "docs_develop_e2e",
                        "opbuildEnv": "sandbox"
                    },
                    "release_e2e": {
                        "sourceBranch": "develop",
                        "baseUrl": "https://stage.docs.microsoft.com",
                        "configFile": "test/Docs/protractor.config.js",
                        "contentBranch": "docs_release_e2e",
                        "opbuildEnv": "prod"
                    },
                    "hotfix_e2e": {
                        "sourceBranch": "master",
                        "baseUrl": "https://stage.docs.microsoft.com",
                        "configFile": "test/Docs/protractor.config.js",
                        "contentBranch": "docs_hotfix_e2e",
                        "opbuildEnv": "prod"
                    }
                },

                    "merge":{
                        "labelExpression": "node_slave"
                    },

                    "opbuild":{
                        "labelExpression": "node_slave",
                        "shell": [
                            "npm install",
                            "gulp merge --repo openpublishing-test --gitUser Microsoft --gitToken ea1b9e6d3618a15e51194ad781ad9bcf570cc0f9 --sourceBranch master --targetBranch ${contentBranch}",
                            "gulp triggerBuild --buildEndpoint ${opbuildEndpoint} --buildBranch ${contentBranch}"
                        ]
                    }
                }
            
        }
    ]
}
